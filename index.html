<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Carrinho de Compras</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>

</head>
<body>
    <div class="container" style="margin-top: 30px;">
        <div class="row d-flex justify-content-center">
            <h1 class="text-center"  style="color: #DC143C;">CARRINHO DE COMPRAS</h1>
        </div>
        <div class="row d-flex justify-content-center" style="margin-top: 30px;">
            <img src="resale.gif" alt="">
        </div>
    </div>
    <table border="1px" cellpadding="5px" cellspacing="0">
        <tbody >
            <div class="text-center" style="margin-top: 50px; margin-bottom: 30px;">
                <h1>Discografia Lady Gaga</h1>
            </div>
            
            
            <tr style="background-color: #F7819F;">
                <td><div>Itens</div></td>
                <td>Descrição</td>
                <td><div>Preço R$</div></td>
                <td><div>Quantidade</div></td>
            </tr>
           
            <tr style="background-color: #F8E0EC;">
                <td>Lady Gaga: The Fame</td>
                <td>Lançamento: 19 de agosto de 2008  pela Interscope Records  no Canadá. Álbum de estréia. </td>
                <td><strong>R$ 129,90</strong></td>
                <td >
                    <input type="number" value="1" min="1" max="10" id="qtd1">
                    <button type="button" id="adicionar1" id="produto1" onclick="AddCarrinho('Produto1', document.getElementById('qtd1').value, '129.90', 1)"> Comprar </button>
                </td>
                
            </tr>
            <tr style="background-color: #F8E0EC;">
                <td>Lady Gaga: Born This Way</td>
                <td>Lançamento: 23 de Maio de 2011 pela Interscope Records. </td>
                <td><strong>R$ 90,90</strong></td>
                <td >
                    <input type="number" value="1" min="1" max="10" id="qtd2">
                    <button type="button" id="adicionar2" id="produto2" onclick="AddCarrinho('Produto2', document.getElementById('qtd2').value, '90.90', 2)"> Comprar </button>
                </td>
            </tr>
            <tr style="background-color: #F8E0EC;">
                <td>Lady Gaga: ARTPOP</td>
                <td>Lançamento: 6 de novembro de 2013 pelas gravadoras Streamline e Interscope.</td>
                <td><strong>R$ 57,90</strong></td>
                <td >
                    <input type="number" value="1" min="1" max="10" id="qtd3">
                    <button type="button" id="adicionar3" id="produto3" onclick="AddCarrinho('Produto3', document.getElementById('qtd3').value, '57.90', 3)"> Comprar </button>
                </td>
            </tr>
            <tr style="background-color: #F8E0EC;">
                <td>Lady Gaga e Tony Bennett</td>
                <td>Lançamento: : 19 de setembro de 2014 pela Interscope Records e Columbia Records.</td>
                <td><strong>R$ 44,99</strong></td>
                <td >
                    <input type="number" value="1" min="1" max="10" id="qtd4">
                    <button type="button" id="adicionar4" id="produto4" onclick="AddCarrinho('Produto4', document.getElementById('qtd4').value, '44.99', 4)"> Comprar </button>
                </td>
            </tr>
            <tr style="background-color: #F8E0EC;">
                <td>Lady Gaga: Joane</td>
                <td>Lançamento: 21 de outubro de 2016 pela Interscope Records</td>
                <td><strong>R$ 99,90</strong></td>
                <td >
                    <input type="number" value="1" min="1" max="10" id="qtd5">
                    <button type="button" id="adicionar5" id="produto5" onclick="AddCarrinho('Produto5', document.getElementById('qtd5').value, '99.90', 5)"> Comprar </button>
                </td>
            </tr>
            
            
            <tr style="background-color: #F8E0EC;">
                <td>Lady Gaga: Chromatica</td>
                <td>Lançamento: 29 de maio de 2020, através das gravadoras Streamline e Interscope Records. </td>
                <td><strong>R$ 89,90</strong></td>
                <td >
                    <input type="number" value="1" min="1" max="10" id="qtd6">
                    <button type="button" id="adicionar6" id="produto6" onclick="AddCarrinho('Produto6', document.getElementById('qtd6').value, '89.90', 6)"> Comprar </button>
                </td>
            </tr>
            <tr style="background-color: #F8E0EC;">
                <td>Lady Gaga: Love for Sale</td>
                <td>Lançamento: 1 de outubro de 2021 pela Columbia e Interscope Records</td>
                <td><strong>R$ 89,90</strong></td>
                <td >
                    <input type="number" value="1" min="1" max="10" id="qtd7">
                    <button type="button" id="adicionar7" id="produto7" onclick="AddCarrinho('Produto7', document.getElementById('qtd7').value, '89.90', 7)"> Comprar </button>
                </td>
            </tr>
            
    </table>


    <div class="container" style=" width: 400px; margin-top: 50px;">
        <div id="itens"> </div>
        
        <div id="carrinho">
            <div style="background-color: #F7819F;">Total: <span id="total"></span> </div>
            <button type="button" onclick=" localStorage.clear(); location.reload();"> Limpar carrinho </button>
        </div>
    </div>

    
    

    <script>
        function AddCarrinho(produto, qtd, valor, posicao)
        {
            localStorage.setItem("produto" + posicao, produto);
            localStorage.setItem("qtd" + posicao, qtd);
            valor = valor * qtd;
            localStorage.setItem("valor" + posicao, valor);
            alert("Produto adicionado ao carrinho!");
        }
        $(function(){
            $(".btn-toggle").click(function(e){
            e.preventDefault();
            el = $(this).data('element');
            $(el).toggle();
            });
        });       


        var total = 0; 
        var i = 0; 
        var valor = 0; 

        for(i=1; i<=9; i++)
        {
            var prod = localStorage.getItem("produto" + i + "");
            if(prod != null) 
            {	
                
                document.getElementById("itens").innerHTML += localStorage.getItem("qtd" + i) + " x ";
                document.getElementById("itens").innerHTML += localStorage.getItem("produto" + i);
                document.getElementById("itens").innerHTML += " ";
                document.getElementById("itens").innerHTML += "R$: " + localStorage.getItem("valor" + i) + "<hr>";
                
                
                valor = parseFloat(localStorage.getItem("valor" + i)); parseFloat()
                total = (total + valor);
            }
        }
        document.getElementById("total").innerHTML = total.toFixed(2);
    </script>
</body>
</html>